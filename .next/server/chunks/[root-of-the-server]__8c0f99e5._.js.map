{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 3, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"","debugId":null}},
    {"offset": {"line": 55, "column": 0}, "map": {"version":3,"sources":["file:///Users/chrisbeechey/NegativeManager/src/app/api/proxy/route.ts"],"sourcesContent":["import { NextRequest, NextResponse } from 'next/server';\n\nconst GOOGLE_SHEETS_API_URL = process.env.NEXT_PUBLIC_GOOGLE_SHEETS_API_URL;\n\nexport async function GET(request: NextRequest) {\n  try {\n    if (!GOOGLE_SHEETS_API_URL) {\n      return NextResponse.json(\n        { success: false, error: 'Google Sheets API URL not configured' },\n        { status: 500 }\n      );\n    }\n\n    // Get the query parameters from the request\n    const searchParams = request.nextUrl.searchParams;\n    const queryString = searchParams.toString();\n    const endpoint = queryString ? `?${queryString}` : '';\n    \n    console.log('Proxying request to:', `${GOOGLE_SHEETS_API_URL}${endpoint}`);\n    \n    // Make request to Google Apps Script\n    const response = await fetch(`${GOOGLE_SHEETS_API_URL}${endpoint}`, {\n      method: 'GET',\n      headers: {\n        'Content-Type': 'application/json',\n      },\n    });\n\n    if (!response.ok) {\n      console.error('Google Apps Script error:', response.status, response.statusText);\n      throw new Error(`Google Apps Script responded with status: ${response.status}`);\n    }\n\n    const data = await response.json();\n    console.log('Received data from Google Apps Script:', data);\n    \n    return NextResponse.json(data, {\n      headers: {\n        'Access-Control-Allow-Origin': '*',\n        'Access-Control-Allow-Methods': 'GET, POST, PUT, DELETE, OPTIONS',\n        'Access-Control-Allow-Headers': 'Content-Type, Authorization',\n      },\n    });\n  } catch (error) {\n    console.error('Proxy error:', error);\n    return NextResponse.json(\n      { \n        success: false, \n        error: error instanceof Error ? error.message : 'Unknown error occurred' \n      },\n      { status: 500 }\n    );\n  }\n}\n\nexport async function POST(request: NextRequest) {\n  try {\n    if (!GOOGLE_SHEETS_API_URL) {\n      return NextResponse.json(\n        { success: false, error: 'Google Sheets API URL not configured' },\n        { status: 500 }\n      );\n    }\n\n    // Get the query parameters from the request\n    const searchParams = request.nextUrl.searchParams;\n    const queryString = searchParams.toString();\n    const endpoint = queryString ? `?${queryString}` : '';\n    \n    // Get the request body\n    const body = await request.text();\n    \n    console.log('Proxying POST request to:', `${GOOGLE_SHEETS_API_URL}${endpoint}`);\n    \n    // Make request to Google Apps Script\n    const response = await fetch(`${GOOGLE_SHEETS_API_URL}${endpoint}`, {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json',\n      },\n      body: body,\n    });\n\n    if (!response.ok) {\n      console.error('Google Apps Script error:', response.status, response.statusText);\n      throw new Error(`Google Apps Script responded with status: ${response.status}`);\n    }\n\n    const data = await response.json();\n    console.log('Received data from Google Apps Script:', data);\n    \n    return NextResponse.json(data, {\n      headers: {\n        'Access-Control-Allow-Origin': '*',\n        'Access-Control-Allow-Methods': 'GET, POST, PUT, DELETE, OPTIONS',\n        'Access-Control-Allow-Headers': 'Content-Type, Authorization',\n      },\n    });\n  } catch (error) {\n    console.error('Proxy error:', error);\n    return NextResponse.json(\n      { \n        success: false, \n        error: error instanceof Error ? error.message : 'Unknown error occurred' \n      },\n      { status: 500 }\n    );\n  }\n}\n\nexport async function OPTIONS() {\n  return new NextResponse(null, {\n    status: 200,\n    headers: {\n      'Access-Control-Allow-Origin': '*',\n      'Access-Control-Allow-Methods': 'GET, POST, PUT, DELETE, OPTIONS',\n      'Access-Control-Allow-Headers': 'Content-Type, Authorization',\n    },\n  });\n}\n"],"names":[],"mappings":";;;;;;;;AAAA;;AAEA,MAAM;AAEC,eAAe,IAAI,OAAoB;IAC5C,IAAI;QACF;;QAOA,4CAA4C;QAC5C,MAAM,eAAe,QAAQ,OAAO,CAAC,YAAY;QACjD,MAAM,cAAc,aAAa,QAAQ;QACzC,MAAM,WAAW,cAAc,CAAC,CAAC,EAAE,aAAa,GAAG;QAEnD,QAAQ,GAAG,CAAC,wBAAwB,GAAG,wBAAwB,UAAU;QAEzE,qCAAqC;QACrC,MAAM,WAAW,MAAM,MAAM,GAAG,wBAAwB,UAAU,EAAE;YAClE,QAAQ;YACR,SAAS;gBACP,gBAAgB;YAClB;QACF;QAEA,IAAI,CAAC,SAAS,EAAE,EAAE;YAChB,QAAQ,KAAK,CAAC,6BAA6B,SAAS,MAAM,EAAE,SAAS,UAAU;YAC/E,MAAM,IAAI,MAAM,CAAC,0CAA0C,EAAE,SAAS,MAAM,EAAE;QAChF;QAEA,MAAM,OAAO,MAAM,SAAS,IAAI;QAChC,QAAQ,GAAG,CAAC,0CAA0C;QAEtD,OAAO,kSAAY,CAAC,IAAI,CAAC,MAAM;YAC7B,SAAS;gBACP,+BAA+B;gBAC/B,gCAAgC;gBAChC,gCAAgC;YAClC;QACF;IACF,EAAE,OAAO,OAAO;QACd,QAAQ,KAAK,CAAC,gBAAgB;QAC9B,OAAO,kSAAY,CAAC,IAAI,CACtB;YACE,SAAS;YACT,OAAO,iBAAiB,QAAQ,MAAM,OAAO,GAAG;QAClD,GACA;YAAE,QAAQ;QAAI;IAElB;AACF;AAEO,eAAe,KAAK,OAAoB;IAC7C,IAAI;QACF;;QAOA,4CAA4C;QAC5C,MAAM,eAAe,QAAQ,OAAO,CAAC,YAAY;QACjD,MAAM,cAAc,aAAa,QAAQ;QACzC,MAAM,WAAW,cAAc,CAAC,CAAC,EAAE,aAAa,GAAG;QAEnD,uBAAuB;QACvB,MAAM,OAAO,MAAM,QAAQ,IAAI;QAE/B,QAAQ,GAAG,CAAC,6BAA6B,GAAG,wBAAwB,UAAU;QAE9E,qCAAqC;QACrC,MAAM,WAAW,MAAM,MAAM,GAAG,wBAAwB,UAAU,EAAE;YAClE,QAAQ;YACR,SAAS;gBACP,gBAAgB;YAClB;YACA,MAAM;QACR;QAEA,IAAI,CAAC,SAAS,EAAE,EAAE;YAChB,QAAQ,KAAK,CAAC,6BAA6B,SAAS,MAAM,EAAE,SAAS,UAAU;YAC/E,MAAM,IAAI,MAAM,CAAC,0CAA0C,EAAE,SAAS,MAAM,EAAE;QAChF;QAEA,MAAM,OAAO,MAAM,SAAS,IAAI;QAChC,QAAQ,GAAG,CAAC,0CAA0C;QAEtD,OAAO,kSAAY,CAAC,IAAI,CAAC,MAAM;YAC7B,SAAS;gBACP,+BAA+B;gBAC/B,gCAAgC;gBAChC,gCAAgC;YAClC;QACF;IACF,EAAE,OAAO,OAAO;QACd,QAAQ,KAAK,CAAC,gBAAgB;QAC9B,OAAO,kSAAY,CAAC,IAAI,CACtB;YACE,SAAS;YACT,OAAO,iBAAiB,QAAQ,MAAM,OAAO,GAAG;QAClD,GACA;YAAE,QAAQ;QAAI;IAElB;AACF;AAEO,eAAe;IACpB,OAAO,IAAI,kSAAY,CAAC,MAAM;QAC5B,QAAQ;QACR,SAAS;YACP,+BAA+B;YAC/B,gCAAgC;YAChC,gCAAgC;QAClC;IACF;AACF","debugId":null}}]
}